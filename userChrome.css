
/*  ZEN BROWSER DESIGN ADJUSTMENTS by @jobsrobson.bsky.social - 1.8 t

    Recommended about:config toggles: 
    - zen.workspaces.open-new-tab-if-last-unpinned-tab-is-closed (true)
    - zen.workspaces.show-workspace-indicator (false) 
    - zen.workspaces.hide-deactivated-workspaces (true) 
    - zen.workspaces.open-new-tab-if-last-unpinned-tab-is-closed (true) */


/*  ============================
    1   VARIÁVEIS PRINCIPAIS
    ============================ */

    @import "userIcons.css";
    @import "userSidebar.css";
    @import "userURL.css";
    @import "userTabGroups.css";
    @import "userDialogPrint.css";
    @import "userDialogAbout.css";
    @import "userWindowLibrary.css";
    @import "userWindowPageInfo.css";
    @import "userWebPanel.css";
    @import "userSidePanels.css";
 
    * {
        --lwt-border:             color-mix(in srgb, black 10%, white 10%) !important;
        --lwt-urlbar-bg:          light-dark(color-mix(in srgb, transparent 10%, white 90%), 
                                             color-mix(in srgb, transparent 10%, black 20%)) !important;
        --lwt-accent-selected:    light-dark(color-mix(in srgb, transparent 10%, black 15%), 
                                             color-mix(in srgb, transparent 10%, white 35%)) !important;    
        --lwt-accent-hover:       light-dark(color-mix(in srgb, transparent 10%, black 30%), 
                                             color-mix(in srgb, transparent 10%, white 50%)) !important;
        --lwt-accent-unselected:  light-dark(color-mix(in srgb, transparent 10%,  black 5%), 
                                             color-mix(in srgb, transparent 10%, white 5%)) !important;
        --lwt-normal-hover:       light-dark(color-mix(in srgb, transparent 10%, black 10%), 
                                             color-mix(in srgb, transparent 10%, white 10%)) !important;
        --background-color-box:   light-dark(color-mix(in srgb, transparent 100%, black 10%), 
                                             color-mix(in srgb, transparent 100%, white 10%)) !important;
        --lwt-button-color:       light-dark(color-mix(in srgb, white 10%, black 5%), 
                                             color-mix(in srgb, white 10%, white 5%)) !important;
        --lwt-button-color-hover: color-mix(in srgb, var(--zen-primary-color) 5%, var(--zen-branding-bg-reverse) 30%) !important;
        --menu-item-hover:        light-dark(color-mix(in srgb, white 50%, black 10%), 
                                             color-mix(in srgb, black 50%, white 25%)) !important; 
        --lwt-menulist:           light-dark(color-mix(in srgb, transparent 10%, black 10%), 
                                             color-mix(in srgb, transparent 10%, black 25%)) !important; 
        --input-bgcolor:          light-dark(color-mix(in srgb, black 5%, white 95%), 
                                             color-mix(in srgb, white 20%, black 80%)) !important; 
        --lwt-button-radius:      8px !important;
        --panel-arrow-offset:     0px !important;
        --in-content-button-background-hover:     light-dark(color-mix(in srgb, white 50%, black 10%), 
                                                             color-mix(in srgb, black 50%, white 25%)) !important;
        --in-content-button-text-color-hover:     light-dark(black, white) !important;
        --zen-branding-bg: white !important;
    }



/*  =====================
    2   AJUSTES GERAIS
    ===================== */

/*  ---------------------------------------------------------------------------
    Cor da Inteface */

        * {
            font-family: "Adwaita Sans Text", SF Pro, system-ui !important;
        }

        #browser {
            transition: background-color .5s cubic-bezier(0, 0, 0, 1);
            opacity: 1 !important;
        } #titlebar {
            transition: background-color .5s cubic-bezier(0, 0, 0, 1);
        }

        #main-window[privatebrowsingmode="temporary"] 
          #browser {
              background-color: #25003E !important;
        }

     

/*  ---------------------------------------------------------------------------
    Borda da Área de Exibição */

    :root:not([inDOMFullscreen="true"]):not([chromehidden~="location"]):not([chromehidden~="toolbar"]) {
    & #tabbrowser-tabbox #tabbrowser-tabpanels .browserSidebarContainer {
        border: 1px solid var(--lwt-border) !important;
        box-shadow: none !important;
        border-radius: 7px !important;
        
        }
    }



/*  ---------------------------------------------------------------------------
    Zen Glance    */

    .zen-glance-background {
      transform: scale(0.98) !important;
      backdrop-filter: blur(15px) !important;
      opacity: 0.2 !important;
    }



/*  ---------------------------------------------------------------------------
    Painéis Popup */

    panel, 
    menupopup {
        --panel-background: light-dark(color-mix(in srgb, white 5%, white 95%), 
                                       color-mix(in srgb, gray 30%, black 90%))  !important;
        --panel-border-radius: 12px !important;
    }

    .toolbar-menupopup:hover :is(menu, menuitem):hover, .subview-subheader:hover, panelview:hover .toolbarbutton-1:hover, .subviewbutton:hover, .widget-overflow-list:hover .toolbarbutton-1:hover {
        background-color: var(--menu-item-hover) !important;
        border-radius: 8px !important;
    }

    panel toolbarseparator {
        border-top: 1px solid var(--lwt-border) !important;
    }

    #appMenu-zoom-controls {
        border-top: 1px solid var(--lwt-border) !important;
    }

    #appMenu-zoom-controls > #appMenu-fullscreen-button2::before {
        border-inline-start: 1px solid var(--lwt-border) !important;
    }



/*  ---------------------------------------------------------------------------
    Botões */

    button {
        color: light-dark(black, white) !important;
        background-color: var(--lwt-button-color) !important;
        box-shadow: none !important;
        border-radius: var(--lwt-button-radius) !important;
        border: none !important;
    }

    button:hover {
        color: light-dark(black, black) !important;
        --in-content-button-background-hover: color-mix(in srgb, var(--zen-primary-color) 5%, var(--zen-branding-bg-reverse) 30%) !important;
        background-color: var(--zen-colors-hover-bg) !important;
    }



/*  ---------------------------------------------------------------------------
    Input */

    input:where([type="email"], [type="tel"], [type="text"], [type="password"], [type="url"], [type="number"]), textarea {
        border-radius: 8px !important;
        box-sizing: border-box !important;
        border: 1px solid color-mix(in srgb, black 10%, white 10%) !important;
    }
    input:where([type="email"]:focus, [type="tel"]:focus, [type="text"]:focus, [type="password"]:focus, [type="url"]:focus, [type="number"]:focus), textarea:focus {
        border: 1px solid color-mix(in srgb, var(--lwt-button-color-hover) 50%, transparent 50%) !important;
    }
    input:where([type="email"]:hover, [type="tel"]:hover, [type="text"]:hover, [type="password"]:hover, [type="url"]:hover, [type="number"]:hover), textarea:hover {
        border: 1px solid var(--lwt-button-color-hover) !important;
    }



/*  ---------------------------------------------------------------------------
    Menulist & Dropdown */

    menulist {
        background: var(--lwt-menulist) !important;
        border-radius: 8px !important;
        height: 30px !important;
    }
    .workspace-dropdown {
        position: relative !important;
        width: 100%;
        display: flex;
        gap: 0px !important;
    }



/*  ---------------------------------------------------------------------------
    Painel Bookmarks */

    #editBMPanel_workspaceSummary {
        background: var(--input-bgcolor) !important;
        border-radius: 8px !important;
    }

    .dialogBox {
        min-height: inline-block !important;
    }
    .bookmarkproperties {
        min-height: inline-block !important;
    }
    .bookmarkpropertiesdialog {
        min-height: inline-block !important;
    }
    .dialogFrame {
        height: inline-block !important;
    }
    #bookmarkpropertiesdialog label[control] {
        margin-inline-start: 0;
        margin-block: 8px 4px !important;
    }
    .workspace-dropdown {
        position: relative !important;
        width: 100% !important;
        display: flex;
        gap: 5px !important;
        margin-top: 0px !important;
    }
    .zenEditBMPanel_fieldContainer {
        display: grid !important;
    }

    #editBMPanel_workspaceSummary {
        background: var(--input-bgcolor) !important;
        border-radius: 8px !important;
        align-items: center !important;
        padding-inline: 20px !important;
    }
    #editBMPanel_workspaceList {
        gap: 10px !important;
        margin-top: 10px !important;
        list-style: none !important;
    }
    #editBMPanel_workspaceList li::marker {
          display: none !important;
    }

    #editBookmarkPanel .expander-up, #editBookmarkPanel .expander-down {
        margin-inline-start: 4px;
        width: 50px !important;
        height: 30px !important;
        min-width: 50px !important;
        min-height: 30px !important;
        border-radius: 4px;
    }

    #editBookmarkPanel .expander-down {
        list-style-image: url(icons/winui/arrow-down.svg) !important;
        width: 50px !important;
        height: 30px !important;
        padding-left: 13px !important;
        min-width: 50px !important;
        min-height: 30px !important;
    }

    #editBookmarkPanel .expander-up {
        list-style-image: url(icons/winui/arrow-up.svg) !important;
        padding-left: 13px !important;
        width: 50px !important;
        height: 30px !important;
        min-width: 50px !important;
        min-height: 30px !important;
    }

    .workspace-trigger {
      height: 30px !important;
    }

    #editBookmarkPanelDoneButton > hbox:nth-child(1) > image:nth-child(1) {
        list-style-image: url(icons/winui/star.svg) !important;
        -moz-context-properties: fill !important;
        fill: currentColor !important;
        width: 20px !important;
        height: 18px !important;
        margin-right: 5px !important;
    }

    #zenEditBookmarkPanelFavicon {
      width: 40px !important;
      height: 40px !important;
    }

    #editBMPanel_workspaceList {
      flex-direction: column;
      width: 100%;
      max-height: 200px;
      overflow-y: auto;
      margin-top: 4px;
      border: 1px solid var(--zen-colors-border);
      border-radius: 8px !important;
      background-color: light-dark(var(--zen-colors-tertiary), rgb(32, 32, 32)) !important;
      box-shadow: 0 0 1px 1px rgba(0, 0, 0, 0.1);
      padding: 4px 0;
    }

    #editBMPanel_folderTree {
        background-color: light-dark(var(--zen-colors-tertiary), rgb(32, 32, 32)) !important;
        border-radius: 8px !important;
    }



/*  ---------------------------------------------------------------------------
    Painel Privacy */

    .panel-info-button {
      &:not(:hover)[checked] {
        background-color: var(--zen-primary-color) !important;
      }
    }

    .panel-info-button:hover {
        background-color: var(--zen-primary-color) !important;
    }

    .toggle-button[aria-pressed="true"]:enabled {
      background: var(--toggle-background-color-pressed-hover) !important;
    }

    /*.panel-info-button {
      & > image {
        list-style-image: url('icons/winui/info.svg') !important;
      }
    }*/

    .trackers-icon {
      list-style-image: url('icons/winui/image.svg') !important;
    }

    .socialblock-icon {
       list-style-image: url('icons/winui/dislike.svg') !important;
    }

    .thirdpartycookies-icon{
       list-style-image: url('icons/winui/cookie.svg') !important;
    }

    .fingerprinters-icon {
       list-style-image: url('icons/winui/fingerprint.svg') !important;
    }

    .cryptominers-icon {
       list-style-image: url('icons/winui/wallet.svg') !important;
    }

    #protections-popup-trackersView-settings-button {
       list-style-image: url('icons/winui/settings.svg') !important;
    }



/*  ---------------------------------------------------------------------------
    Painel Downloads */

    /* Usa o ícone de Downloads padrão do Firefox */
    #downloads-button, 
    #downloads-indicator-anchor {
      list-style-image: url('chrome://browser/skin/downloads/downloads.svg') !important;
    }

    #downloads-button[attention="success"] > .toolbarbutton-badge-stack > #downloads-indicator-anchor > #downloads-indicator-icon {
      fill: var(--zen-branding-coral) !important;
      fill-opacity: 1;
    }

    #downloads-button[attention="success"] > .toolbarbutton-badge-stack > #downloads-indicator-start-box > #downloads-indicator-start-image {
      stroke: var(--zen-branding-coral) !important;
    }

    #downloads-indicator-finish-image {
      fill: var(--zen-branding-coral) !important;
      fill-opacity: 1;
      stroke: var(--zen-branding-coral) !important;
    }

    .subviewbutton:hover {
      background: color-mix(in srgb, var(--lwt-accent-hover) 30%, transparent) !important;
    }

    /* Ícone de página do Zen */
    @media (min-resolution: 1.1dppx) {
       #identity-box[pageproxystate="valid"].chromeUI #identity-icon {
           list-style-image: url("icons/brand/zen-identity-icon.svg") !important;
       }
    }

    #downloadsPanel-mainView {
        min-width: 30em !important;
    }

    .downloadsPanelFooterButton {
        background: none !important;
    }
    .downloadButton {
        min-width: 32px !important;
    }

    .downloadsPanelFooterButton:hover {
        background-color: var(--menu-item-hover) !important;
        color: light-dark(black, white) !important;
    }

    .download-state {
        padding-right: 10px !important;
    }

    .download-state:hover {
        border-radius: 5px !important;
    }

    .downloadButton {
        border-radius: 8px !important;
    }
    .downloadButton:hover:not(:active) {
        color: white !important;
        background: var(--zen-branding-coral) !important;
        border: 1px solid var(--zen-branding-coral) !important;
        border-radius: 6px !important;
    }

    #downloadsHistory {
        color: light-dark(black, white) !important;
    }
    #downloadsHistory:hover {
        border-radius: 6px !important;
    }

    /* Botão - Show all Downloads */
    #downloadsFooterButtons {
        border-top: 1px solid light-dark(rgb(0 0 0 / 0.1), rgb(255 255 255 / 0.1)) !important;
        margin-top: 5px !important;
        padding-block: 5px !important;
        padding-inline: 3px !important;
        display: flex !important;
        flex-direction: row !important;
        justify-content: right !important;
    }


/*  ---------------------------------------------------------------------------
    Painel Profiles */

    #PanelUI-zen-profiles toolbarbutton:last-child {
        margin-bottom: 2px !important;
    }


/*  ---------------------------------------------------------------------------
    Painel Workspaces */

    .PanelUI-zen-workspaces-user-create {
        & .PanelUI-zen-workspaces-creation-wraper {
            border: 0px !important;
        }
    }
    .PanelUI-zen-workspaces-user-create {
        & .PanelUI-zen-workspaces-creation-wraper {
            & .PanelUI-zen-workspaces-icons-container {
                background: color-mix(in srgb, var(--lwt-menulist) 20%, transparent 10%) !important;
                border-radius: 8px !important;
                min-width: 50px !important;
                border: 1px solid color-mix(in srgb, black 10%, white 10%) !important;
                margin-right: 3px !important;
            }
        }
        & .PanelUI-zen-workspaces-creation-wraper:hover {
            & .PanelUI-zen-workspaces-icons-container:hover {
                background: color-mix(in srgb, var(--lwt-menulist) 50%, transparent 10%) !important;
                border-radius: 8px !important;
                min-width: 50px !important;
                border: 1px solid var(--lwt-button-color-hover) !important;
                margin-right: 3px !important;
            }
        }
    }

    #PanelUI-zen-workspaces-list toolbarbutton {
        &:first-child {
            margin-top: 0px !important;
        }
    }
    #PanelUI-zen-workspaces-list toolbarbutton {
        & .zen-workspace-icon {
            border-radius: 10px !important;
        }
    }



/*  ---------------------------------------------------------------------------
    Barra de Favoritos */

    /* Margem da Bookmark Bar */
    #PersonalToolbar {
        margin-left: -7px !important;
        margin-top: 2px !important;
    }

    :root[zen-single-toolbar="true"]:not([customizing]) {
        & #zen-appcontent-navbar-container {
            &:has(#PersonalToolbar[collapsed="false"]) {
                @media (-moz-bool-pref: "zen.view.hide-window-controls") {
                    &:not([zen-has-hover="true"]):not([has-popup-menu]):not(:focus-within) {
                        transition-delay: 0.1s !important;
                        height: var(--zen-element-separation);
                        overflow: hidden;
                        opacity: 0;
                    }
                }
            }
        }
    }



/*  ---------------------------------------------------------------------------
    Correções Gerais */

    /* Corrige a borda branca superior em tela cheia (zen twillight t22 02/12) */
    :root[zen-single-toolbar="true"]:is([inDOMFullscreen="true"]) {
        & #zen-appcontent-navbar-container {
            display: none !important;
            -moz-window-dragging: drag;
            min-height: var(--zen-element-separation);
            height: var(--zen-element-separation);
        }
    }

    :root:not([inDOMFullscreen="true"]) #tabbrowser-tabbox {
        padding: 0px !important;
    }

    #zen-sidebar-web-header, #zen-sidebar-panels-wrapper {
        border-bottom: 0 !important;
        border-top: 0 !important;
    }

    /* Corrige a cor do texto em Tooltips do Zen */
    #confirmation-hint-message {
      color: light-dark(black, white) !important;
    }
    @media (prefers-reduced-motion: no-preference) {
      #confirmation-hint-message-container {
        opacity: 0;
        transition: transform 120ms cubic-bezier(.25,1.27,.35,1.18), opacity 60ms linear;
      }
    }
    #confirmation-hint-checkmark-image {
        margin-top: -1px !important;
        color: light-dark(green, lightgreen) !important;
    }

    /* Connection Security Popup */
    #identity-popup-multiView toolbarseparator {
      display: inherit !important;
    }

    description.identity-popup-connection-secure {
        margin-left: 5px !important;
    }

    #identity-popup-securityView-extended-info {
        margin-top: -10px !important;
        margin-bottom: 5px !important;
        margin-left: 34px !important;
    }

    #spell-check-enabled > label:nth-child(2) {
        margin-left: -7px !important;
    }










/*  =====================
    3   ANIMAÇÕES
    ===================== */

/*  ---------------------------------------------------------------------------
    URL Bar animations by https://github.com/TheBigWazz/Pineapple-Fried */

        /* URL Bar Expand/Collapse Animation */
        #urlbar[focused] .urlbar-background {
          animation: urlbarExpand 0.3s ease-out;
        }

        #urlbar:not([focused]) .urlbar-background {
          animation: urlbarCollapse 0.2s ease-in;
        }

        @keyframes urlbarExpand {
          from {
            transform: scaleX(0.8) scaleY(0.7);
            opacity: 0.5;
          }
          to {
            transform: scaleX(1) scaleY(1);
            opacity: 1;
          }
        }

        @keyframes urlbarCollapse {
          from {
            transform: scaleX(1) scaleY(1);
          }
          to {
            transform: scaleX(0.95) scaleY(0.9);
          }
        }

        /* Results Panel Animation */
        #urlbar-results {
          animation: resultsFadeIn 0.25s ease-out;
        }

        @keyframes resultsFadeIn {
          from {
            opacity: 0;
            transform: translateY(-50px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* Animate each result row individually */
        #urlbar-results {
          opacity: 1 !important; /* Ensure parent container stays visible */
        }

        .urlbarView-row {
          opacity: 0;
          animation: resultEntry 0.3s ease-out forwards;
        }

        /* Cascade animation with staggered delays */
        .urlbarView-row:nth-child(1) { animation-delay: 0.05s; }
        .urlbarView-row:nth-child(2) { animation-delay: 0.10s; }
        .urlbarView-row:nth-child(3) { animation-delay: 0.15s; }
        .urlbarView-row:nth-child(4) { animation-delay: 0.20s; }
        .urlbarView-row:nth-child(5) { animation-delay: 0.25s; }
        .urlbarView-row:nth-child(6) { animation-delay: 0.30s; }
        .urlbarView-row:nth-child(7) { animation-delay: 0.35s; }
        .urlbarView-row:nth-child(8) { animation-delay: 0.40s; }
        .urlbarView-row:nth-child(9) { animation-delay: 0.45s; }
        .urlbarView-row:nth-child(10) { animation-delay: 0.50s; }

        @keyframes resultEntry {
          from {
            opacity: 0;
            transform: translateY(-8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* Adjust original results panel animation */
        #urlbar-results {
          animation: resultsFadeIn 0.2s ease-out;
        }

        @keyframes resultsFadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

    .urlbarView-type-icon {
      .urlbarView-row[type="bookmark"] > .urlbarView-row-inner > .urlbarView-no-wrap > & {
        animation-delay: 1.50s !important;
        animation: resultEntry 0.7s ease-out !important;
      }
    }


    /*  1.7.5t - (not) Animate New Tab  */
    @media (not (-moz-bool-pref: "zen.urlbar.replace-newtab")) {
      #vertical-pinned-tabs-container, #tabbrowser-arrowscrollbox {
        .tabbrowser-tab {
          animation: new-tab-appear 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) !important;
        }
      }

      @keyframes new-tab-appear { 
        0% {
          opacity: 0;
          transform: translateY(-25px);
        }
        60% {
          opacity: 0.8  ;
          transform: translateY(6px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }
    }



/*  ---------------------------------------------------------------------------
    Ponto de Atenção - Attention Dot   */
        
    * {
        --attention-dot-color: AccentColor !important;
    }
    .tabbrowser-tab:is([image], [pinned]) > .tab-stack > .tab-content[attention]:not([selected]), .tabbrowser-tab > .tab-stack > .tab-content[pinned][titlechanged]:not([selected]), #tabbrowser-tabs[orient="vertical"]:not([expanded]) .tabbrowser-tab > .tab-stack > .tab-content[titlechanged]:not([selected]) {
        background-image: radial-gradient(circle, var(--attention-dot-color), var(--attention-dot-color) 2px, transparent 2px) !important;
        background-position: left top 20px !important;
    }
    .tabbrowser-tab:is([image], [pinned]) > .tab-stack > .tab-content[attention]:not([selected]), .tabbrowser-tab[pinned] > .tab-stack > .tab-content[pinned][titlechanged]:not([selected]), #tabbrowser-tabs[orient="vertical"]:not([expanded]) .tabbrowser-tab[pinned] > .tab-stack > .tab-content[titlechanged]:not([selected]) {
        background-image: radial-gradient(circle, var(--attention-dot-color), var(--attention-dot-color) 2px, transparent 2px) !important;
        background-position: center bottom 5.5px !important;
    }







/*  ===================================
    6   ZEN MODS INCORPORADOS
    =================================== */

/*  ---------------------------------------------------------------------------
    Only Close on Hover - by p-sw - v1.0.0
    Exibe o botão de Fechar Aba somente em mouseover na aba selecionada */

    #tabbrowser-tabs .tabbrowser-tab:not([pinned]):is([visuallyselected]):not(:hover) .tab-close-button {
      display: none !important;
    }


/*  ---------------------------------------------------------------------------
    No Scrollbox in Sidebar - by mally8 - v1.0.2
    Esconde a scrollbar na Sidebar */
    
    scrollbox:nth-child(5) {
      scrollbar-width: none !important;
    }
    

/*  ---------------------------------------------------------------------------
    Colored Container Tab - by ocean-mars - v1.0.0
    Exibe uma borda com a cor do container em abas abertas */

    .tab-context-line {
      display: none !important;
    }
    #tabbrowser-tabs { 
      & .tabbrowser-tab { 
        &[selected] .tab-background { 
          border: 2px solid var(--identity-icon-color) !important; 
          opacity: 0.8 !important;
        }
      }
    }


/*  ---------------------------------------------------------------------------
    Cleaner Extension Menu - v1.0.0
    Remodela o menu de Extensões */
    
    #unified-extensions-description {
      display: none !important;
    }
    #unified-extensions-panel #unified-extensions-view {
        width: 100% !important;  /*  For firefox v115.x */
    }
    #unified-extensions-view{
        --uei-icon-size: 15px; /*  Change icon size */
        --firefoxcss-number-of-extensions-in-a-row: 3; /*  Increase to the number of icons you want in one row */
    }
    #unified-extensions-view .panel-header,
    #unified-extensions-view .panel-header + toolbarseparator,
    #unified-extensions-view .panel-subview-body + toolbarseparator,
    #unified-extensions-view #unified-extensions-manage-extensions,
    #unified-extensions-view .unified-extensions-item-menu-button.subviewbutton,
    #unified-extensions-view .unified-extensions-item-action-button .unified-extensions-item-contents {
        display: none !important;
    }
    #unified-extensions-view .panel-subview-body {
        padding: 4px !important;
        padding-bottom: 8px !important;
    }
    #unified-extensions-view .unified-extensions-item .unified-extensions-item-icon, 
    #unified-extensions-view .unified-extensions-item .toolbarbutton-badge-stack {
        margin-inline: -10px !important;
        padding: 5px !important;
    }
    #unified-extensions-view #overflowed-extensions-list,
    #unified-extensions-view #unified-extensions-area,
    #unified-extensions-view .unified-extensions-list {
        display: grid !important;
        grid-template-columns: repeat(var(--firefoxcss-number-of-extensions-in-a-row),auto);
        justify-items: center !important;
        align-items: center !important;
    }
    #unified-extensions-view .unified-extensions-list .unified-extensions-item,
    #unified-extensions-view .unified-extensions-list{
         max-width: max-content;
    }
    #unified-extensions-view {
        & .unified-extensions-item {
            border-radius: var(--arrowpanel-menuitem-border-radius);
        }
    }


/*  ---------------------------------------------------------------------------
    Dim Unloaded Tabs - by Felkazz - v1.0.0
    Exibe as abas descarregadas com opacidade reduzida */

    .tabbrowser-tab[pending="true"] {
        & .tab-icon-stack, .tab-label-container {
            filter: grayscale(1);
            opacity: 0.4;
        }
    }


/*  ---------------------------------------------------------------------------
    Hide Extension Name from URL Bar - by ch4og - v1.0.0
    Esconde o nome das extensões da barra de endereços */

    #urlbar #identity-box.extensionPage #identity-icon-label {
        display: none !important;
    }

        
/*  ---------------------------------------------------------------------------
    Floating Status Panel
    Barra de status no canto inferior esquerdo da tela  */
        
    #statuspanel {    
        margin: 10px !important;  
    }    
    #statuspanel-label {    
        border-radius: 8px !important;   
        padding: 2px 10px !important;    
        border: 1px solid var(--zen-colors-border) !important;    
        background: light-dark(white, black) !important;  
    } 



  
        
/*  ===========================================
    12   OUTRAS MODIFICAÇÕES
    =========================================== */

    /*  ---------------------------------------------------------------------------
    Picture in Picture - PIP   */
        
    #close, #unpip {
        background-color: rgba(0,0,0, 0.8) !important;
        fill: white !important;
    }
        
    
    /*  ---------------------------------------------------------------------------
    Autoscroller Indicator   */        

    .autoscroller {
        --panel-background: transparent !important;
        --panel-border-color: transparent !important;
        background: #fff url('chrome://global/skin/icons/autoscroll.svg') no-repeat center !important;
        border-radius: 100% !important;
        box-shadow: none !important;
    }
    .autoscroller[scrolldir='NS'] {
        background-image: url('chrome://global/skin/icons/autoscroll-vertical.svg') !important;

    }
    .autoscroller[scrolldir='EW'] {
        background-image: url('chrome://global/skin/icons/autoscroll-horizontal.svg') !important;
    }

        
    /*  ---------------------------------------------------------------------------
    Pointer Lock Warning   */

    .pointerlockfswarning {
        position: fixed;
        visibility: visible;
        transition: transform 300ms ease-in;
        top: -5% !important;
        left: -50%;
        transform: translate(-50%, -100%);
        box-sizing: border-box;
        width: max-content;
        max-width: 45% !important;
        background: color-mix(in srgb, var(--attention-dot-color) 90%, transparent 10%) !important;
        border: 2px solid var(--attention-dot-color) !important;
        border-radius: 12px !important;
        box-shadow: none !important;
        color: white !important;
        padding: 15px 16px !important;
    }

    .pointerlockfswarning-domain-text, .pointerlockfswarning-generic-text {
        font-size: 14px !important;
        margin: 0px 16px !important;
        word-wrap: break-word;
        min-width: 1px;
    }     


    /*  ---------------------------------------------------------------------------
    Download Dialog   */
 
    /* Download Dialog (Save / Open) */
    @-moz-document url("chrome://mozapps/content/downloads/unknownContentType.xhtml") {
        #unknownContentType { 
            color: light-dark(black, white) !important;
            background-color: light-dark(rgb(255, 255, 255), rgb(46, 44, 48)) !important;
        }

        button {
            -moz-appearance: none !important;
            background-color: light-dark(rgb(255, 255, 255), #42414D) !important;
            color: light-dark(black, white) !important;
            border: 1px solid light-dark(rgb(0 0 0 / 0.2), #52525E) !important;
            width: 80px !important;
            padding: 5px !important;
            border-radius: 8px !important;
        }

        button:hover {
            color: white !important;
            background: linear-gradient(180deg, rgba(61,127,246,1) 0%, rgba(36,107,246,1) 100%); !important;
            border: 0px solid dodgerblue !important;
            transition: 150ms !important;
        }

        #openHandler {
            -moz-appearance: none !important;
            background: light-dark(rgb(255, 255, 255), rgb(46, 44, 48)) !important;
            color: light-dark(black, white) !important;
            border: 1px solid light-dark(rgb(0 0 0 / 0.2), rgb(255 255 255 / 0.2)) !important;
            border-radius: 8px !important;
            padding-inline-start: 4px !important;
        }

        #openHandler:hover {
            border: 2px solid rgba(61,127,246,1) !important;
        }

        separator.thin {
          height: 0.6em !important;
        }

        #source, #type {
          margin-top: -2px !important;
          font-weight: bold !important;
        }

        #location {
          font-weight: bold;
            text-align: start !important;
            font-size: large !important;
            overflow: hidden !important;
        }

        #contentTypeImage {
          height: 20px !important;
          width: 20px!important;
          margin: 0;
          margin-inline-end: 15px !important;
          margin-inline-start: -8px !important;
        }

        #normalBox > separator:nth-child(1) {
          height: 0.8em !important;
        }

        #intro, #whichIs, .header{
            display: none !important;
        }

        hbox.small-indent:nth-child(3) > vbox:nth-child(2) > hbox:nth-child(4) {
            margin-top: 3px !important;
        }

        menulist {
          background: var(--lwt-menulist) !important;
          border-radius: 8px !important;
          height: 30px !important;
          margin-left: 15px !important;
          margin-top: -1px !important;
        }

        #mode {
            margin-block-end: 5px !important;
            margin-inline-start: 34px !important;
        }

        #mode > hbox:nth-child(2) {
            display: flex !important;
            flex-direction: row !important;
            margin-block: 5px !important;
        }

        #rememberChoice {
            margin-inline-start: 23px !important;
        }

    }

    /* App Picker */
    @-moz-document url("chrome://global/content/appPicker.xhtml") {

        #app-picker{
            color: light-dark(black, white) !important;
            background-color: light-dark(rgb(255, 255, 255), rgb(46, 44, 48)) !important;
        }

        button {
            -moz-appearance: none !important;
            background-color: light-dark(rgb(255, 255, 255), #42414D) !important;
            color: light-dark(black, white) !important;
            border: 1px solid light-dark(rgb(0 0 0 / 0.2), #52525E) !important;
            border-radius: 6px !important;
        }

        button:hover {
            color: white !important;
            background: linear-gradient(180deg, rgba(61,127,246,1) 0%, rgba(36,107,246,1) 100%); !important;
            border: 0px solid dodgerblue !important;	
        }

        #app-picker-listbox{
            -moz-appearance: none !important;
            background-color: light-dark(rgb(255, 255, 255), rgb(46, 44, 48)) !important;
            color: light-dark(black, white) !important;
            border: 1px solid light-dark(rgb(0 0 0 / 0.2), #52525E) !important;
            border-radius: 8px !important;
        }

        richlistitem[selected="true"] {
            background: rgba(61,127,246,1) !important;
            color: white !important;
        }
    }

        

    /*  ---------------------------------------------------------------------------
    Window Dialog - Global   */    
        
    /* Window Dialog */
    window dialog {
        color: light-dark(black, white) !important;
        background-color: light-dark(rgb(255, 255, 255), rgb(46, 44, 48)) !important;
    }        

    .titleIcon {
        background-image: url('icons/brand/zen-identity-icon.svg') !important;
        background-color: transparent !important;
    }
        
    /* Subdialog - Dialog Box no topo da tela - Troubleshoot Mode / */
    .dialogBox {
      &:not(.spotlightBox) {
        display: fixed !important;
        box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.2);
        border-radius: 12px  !important;

      }
    }     
    dialog[subdialog] {
        --grid-padding: 16px;
        padding: var(--grid-padding) calc(var(--grid-padding) - 4px) !important;
    }       
    
      #SiteDataRemoveSelectedDialog {
        background: light-dark(rgb(255, 255, 255), rgb(46, 44, 48)) !important;
        padding: 6px !important;
        min-width: 50px;
      }
        
       

    /*  ---------------------------------------------------------------------------
    Estilo global de botão (Não aplicado no PIP e nos botões de Screenshot)   */    
        
    @-moz-document regexp("^(?!chrome://global/content/pictureinpicture/player\\.xhtml$).*") {
        button:not(.labelled):not(#full-page):not(#visible-page) {
            -moz-appearance: none !important;
            background-color: light-dark(rgb(255, 255, 255), rgb(255 255 255 / 0.1)) !important;
            color: light-dark(black, white) !important;
            border: 1px solid light-dark(rgb(0 0 0 / 0.2), #52525E) !important;
            max-width: fit-content !important;
            padding-inline: 10px !important;
            border-radius: 6px !important;
        }

        button:not(.labelled):hover:not(#full-page):not(#visible-page) {
            color: white !important;
            background: linear-gradient(0deg, rgba(255, 115, 86, 1) 0%, rgba(255, 125, 84, 1) 100%) !important;
            border: 1px solid transparent !important;
            border-radius: 6px !important;
        }
    }

    .button-background {
      &.labelled {
        color: light-dark(black, white) !important;
        background-color: unset !important;
        box-shadow: none !important;
        border-radius: 6px !important;
        border: none !important;
        gap: var(--space-small);
      }
    }
   .button-background:hover {
      &.labelled {
        color: black !important;
        background-color: unset !important;
        box-shadow: none !important;
        border-radius: 6px !important;
        border: none !important;
        gap: var(--space-small);
      }
    }

        


    /*  ---------------------------------------------------------------------------
    Findbar   */            

    findbar {
        display: flex !important;
        border-radius: 12px !important;
        margin: 0px !important;
        width: 600px !important;
        min-width: 70% !important;
        height: auto !important;
        position: absolute !important;
        top: 15px;
        left: 50%;
        transform: translateX(-50%);
        overflow: unset !important;
        box-shadow: var(--box-shadow-10) !important;
        background: light-dark(color-mix(in srgb, white 80%, transparent), color-mix(in srgb, rgb(40, 40, 40) 80%, transparent)) !important;
        backdrop-filter: blur(30px) !important;
        border: 1px solid var(--zen-colors-border) !important;
        transition: top 0.35s ease, bottom 0.35s ease !important;
        visibility: visible !important;
        opacity: 1 !important;

        & .findbar-container {
            flex-wrap: wrap;
            overflow-x: auto !important;
            height: auto !important;
            row-gap: 10px;
            margin-inline-start: 6px !important;

            &> :first-child {
                width: 100% !important;
            }

            & .findbar-textbox {
                flex-grow: 1;
            }
        }

        &[hidden="true"] {
            top: -150px;
        }

        @starting-style {
            top: -150px;
        }
        
      & .findbar-container {
          display: flex !important;
          flex-direction: row !important;
          flex-wrap: nowrap !important;
          overflow-x: hidden !important;
          height: auto !important;
          row-gap: 10px;
          
          & > :first-child {
              width: 100% !important;
          }
      }
    }
        
    .findbar-find-status {
      display: none !important;
    }
        
        
    .findbar-textbox {
          appearance: none;
          background-color: light-dark(color-mix(in srgb, white 80%, transparent), color-mix(in srgb, rgb(40, 40, 40) 80%, transparent)) !important;          
          backdrop-filter: blur(20px) !important;
          color: var(--input-color, var(--toolbar-field-color));
          border: 1px solid color-mix(in srgb, black 10%, white 20%) !important;
          border-radius: 8px !important;
          outline: none;
          margin: 0;
          padding: 2px 5px;
          padding-inline-start: 8px;
          max-width: 23em !important;
          box-sizing: border-box;
    }
    .findbar-textbox {
      &:focus {
          appearance: none;
          background-color: light-dark(color-mix(in srgb, white 80%, transparent), color-mix(in srgb, rgb(40, 40, 40) 80%, transparent)) !important;     
          color: var(--input-color, var(--toolbar-field-color));
          border: 2px solid var(--zen-primary-color) !important;
          border-radius: 8px !important;
          outline: none;
          margin: 0;
          padding: 2px 5px;
          padding-inline-start: 8px;
          box-sizing: border-box;
          box-shadow: none !important;
      }
    }
        
    .findbar-find-previous {
          list-style-image: url('icons/winui/arrow-up.svg') !important;
            margin-inline: 8px 0 !important;
    }
    .findbar-find-next {
          list-style-image: url('icons/winui/arrow-down.svg') !important;
    }


    /* Horizontal Position */
    body:has(#theme-Better-Find-Bar[theme-better_find_bar-horizontal_position="left"]) {
        findbar {
            left: 15px;
            transform: translateX(0%);
        }
    }

    body:has(#theme-Better-Find-Bar[theme-better_find_bar-horizontal_position="right"]) {
        findbar {
            left: unset !important;
            right: 15px;
            transform: translateX(0%);
        }
    }
      
      
      
    /*  ---------------------------------------------------------------------------
    SCREENSHOT Dialog   */
      
      /* Botões da tela de Screenshot */
      #screenshotsPagePanel > screenshots-buttons:nth-child(1) {
        background-color: rgb(0 0 0 / 0.4) !important;
        backdrop-filter: blur(20px) !important;
        color: currentColor !important;
        border-radius: 12px !important;
      }
      
      #full-page, #visible-page {
        -moz-context-properties: fill, stroke;
        fill: white !important;
        stroke: var(--screenshots-icon-background-color);
        background-position: center top;
        background-repeat: no-repeat;
        background-size: 46px 46px;
        min-width: 90px;
        padding: 56px 5px 5px !important;
        margin: 2px;
        font-weight: normal !important;
        color: white !important;
      }
      
      #full-page:hover, #visible-page:hover {
        -moz-context-properties: fill, stroke;
        fill: black !important;
        stroke: var(--screenshots-icon-background-color);
        color: black !important;
      }
      
      .dialogBox {
        :not(.content-prompt-dialog) > .dialogOverlay > &:not(.spotlightBox) {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        }
      }
      
      @media (prefers-color-scheme: dark) {
        .dialogBox:not(.spotlightBox) {
          border: none !important;
        }
      }
      
      body > screenshots-preview:nth-child(1) {
        background-color: light-dark(white, rgb(40, 40, 40)) !important;
        
      }
      
      .image-view {
        display: flex;
        flex-direction: column;
        height: 100vh;
      }
      
      .preview-buttons {
        display: flex;
        gap: var(--space-small);
        align-items: center;
        justify-content: flex-end;
        width: -moz-available !important;
        padding: 10px !important;
        padding-right: 10px !important;
      }
      
      #preview-image {
        margin-bottom: -4px !important;
      }
      
      #preview-image-container {
        height: 100vh;
        overflow: scroll !important;
        padding: 0 !important;
        margin-inline: 10px !important;
        margin-bottom: 10px !important;
        border-radius: 6px !important;
      }
      
      .button-background {
        button:hover > & {
          background-color: transparent !important;
          border-color: var(--button-border-color-hover);
          color: black !important;
        }
      }
      
      .button-background {
        font-weight: normal !important;
        font-size: 14px !important;
      }
      
      
      
      
      
      
        